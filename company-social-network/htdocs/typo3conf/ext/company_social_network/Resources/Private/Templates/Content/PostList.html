{namespace csn=Wind\Csnd\ViewHelpers}
<div xmlns="http://www.w3.org/1999/xhtml" lang="en"
     xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers"
     xmlns:flux="http://typo3.org/ns/FluidTYPO3/Flux/ViewHelpers"
     xmlns:v="http://typo3.org/ns/FluidTYPO3/Vhs/ViewHelpers">

    <f:layout name="Content"/>

    <f:section name="Configuration">
        <flux:form id="postList" options="{group: 'Lists'}" label="Post List "
                   description="Permette di inserire un compente che recupera la lista dei post di tutti gli utenti">

            <flux:field.select name="buttonLikeMode" label="ModalitÃ  pulsante mi piace"
                               items="{
                           0:{0:'Plugin mode',1:'plugin'},
                           1:{0:'Ajax mode',1:'ajax'}
                           }"
            />

        </flux:form>
    </f:section>

    <f:section name="Preview">
        <strong>Post lists</strong><br/>
        Permette di inserire un compente che recupera la lista dei post di tutti gli utenti
    </f:section>

    <f:section name="Main">

        <v:page.header.link rel="stylesheet" href="/fileadmin/templates/css/postList.css"/>

        <div class="post-list-block clearfix">
            <div class="header">
                <h2 class="title">Ultimi post</h2>

                <small class="pull-right">
                    <b>Data tuo ultimo post:</b><i>
                    <f:format.date format="d.m.Y - H:i:s">{lastPost.crdate}</f:format.date>
                </i></small>
            </div>
            <div class="users-post-list">
                <f:for each="{postList}" as="item">
                    <f:render partial="PostCard" arguments="{post:item, user:user, buttonLikeMode:buttonLikeMode}"/>
                </f:for>
            </div>
        </div>
        <script type="text/javascript">
            CSND.contentElement.postList.initSubmit();
        </script>
    </f:section>
</div>
